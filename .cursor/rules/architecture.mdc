---
description: StoryBuilder Hybrid 아키텍처·모노레포·도메인 경계
alwaysApply: true
---

# 아키텍처 원칙

## 구조
- **모노레포**: 루트에서 Turborepo + pnpm 워크스페이스. `apps/web`, `apps/` 또는 `packages/` 내 서비스 구분.
- **서비스 경계**: API Gateway / Story Engine / AI Engine 분리. 도메인별로 경계 유지 (프로젝트·챕터·씬·원고·캐릭터·타임라인·설정).

## 데이터·API
- Core 데이터는 PostgreSQL; 실시간/자동저장은 Redis; 관계/그래프는 Neo4j(선택).
- API는 Swagger 수준 스펙 유지. 신규 엔드포인트는 기존 `backend/api/` 패턴 및 ERD와 정합성 유지.

## 인프라
- FE: Vercel 배포. BE: Railway 또는 AWS ECS. 스토리지: Cloudflare R2. CI/CD: GitHub Actions.
