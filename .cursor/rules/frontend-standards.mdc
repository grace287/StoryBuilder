---
description: Frontend 스택 및 패턴 (Next.js, TipTap, Zustand, TanStack Query, Radix)
globs: apps/web/**/*
alwaysApply: false
---

# Frontend 규칙

## 스택
- Next.js 15+ (App Router), TypeScript
- 에디터: TipTap. 상태: Zustand. 서버 상태/캐시: TanStack Query
- 스타일: Tailwind. UI 컴포넌트: Radix 기반 (접근성·일관성)

## 패턴
- 바인더/트리: `@dnd-kit` 드래그 앤 드롭, 계층 구조는 재귀 컴포넌트
- API 호출은 TanStack Query 훅으로 래핑, 로딩/에러 상태 처리
- 공유 상태(선택 노드, 포커스 모드)는 Zustand. 서버 데이터는 Query 캐시

## 예시
```tsx
// ✅ API + 캐시
const { data, isLoading } = useQuery({ queryKey: ['project', id], queryFn: () => fetchProject(id) })

// ✅ 로컬 UI 상태
const selectedNodeId = useStoryStore(s => s.selectedNodeId)
```
